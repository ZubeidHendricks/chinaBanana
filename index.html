<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UGC Content Generator - AI-Powered Creative Studio</title>
    <meta name="description" content="Generate authentic UGC content instantly with AI. Analyze competitors, create custom visuals, and get platform-optimized copy in minutes.">
    <meta name="keywords" content="UGC content, AI content generation, social media marketing, Facebook ads, Instagram content">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="UGC Content Generator - AI-Powered Creative Studio">
    <meta property="og:description" content="Transform your marketing with AI-generated authentic UGC content">
    <meta property="og:image" content="/og-image.png">
    <meta property="og:url" content="https://ugc-generator.vercel.app">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="UGC Content Generator">
    <meta name="twitter:description" content="AI-powered authentic UGC content generation">
    <meta name="twitter:image" content="/og-image.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Stylesheets -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>
    
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .glass-effect { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); }
        .loading-animation { animation: pulse 2s infinite; }
        .result-card { transform: translateY(20px); opacity: 0; animation: slideUp 0.6s ease-out forwards; }
        @keyframes slideUp { to { transform: translateY(0); opacity: 1; } }
        .floating { animation: floating 3s ease-in-out infinite; }
        @keyframes floating { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
        .hero-glow { box-shadow: 0 0 50px rgba(102, 126, 234, 0.3); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div x-data="ugcGenerator()" class="min-h-screen">
        <!-- Header -->
        <header class="gradient-bg text-white py-12 relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20"></div>
            <div class="max-w-6xl mx-auto px-6 relative z-10">
                <div class="text-center">
                    <div class="inline-block hero-glow rounded-full p-4 mb-6">
                        <h1 class="text-5xl md:text-7xl font-bold floating">
                            üé® UGC Generator
                        </h1>
                    </div>
                    <p class="text-xl md:text-3xl opacity-95 mb-8 font-light">
                        AI-Powered Creative Studio ‚Ä¢ Analyze Competitors ‚Ä¢ Generate Authentic UGC
                    </p>
                    <div class="flex flex-wrap justify-center gap-4 mb-8">
                        <span class="glass-effect px-6 py-3 rounded-full text-sm font-semibold">üîå Bright Data MCP</span>
                        <span class="glass-effect px-6 py-3 rounded-full text-sm font-semibold">üß† Gemini 2.5 Flash</span>
                        <span class="glass-effect px-6 py-3 rounded-full text-sm font-semibold">üé® Imagen 3.0</span>
                    </div>
                    <div class="flex justify-center space-x-6 text-sm opacity-90">
                        <div class="text-center">
                            <div class="text-2xl font-bold">95%+</div>
                            <div>Authenticity Score</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold">&lt;3min</div>
                            <div>Generation Time</div>
                        </div>
                        <div class="text-2xl font-bold">$2000</div>
                            <div>Value Generated</div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="max-w-6xl mx-auto px-6 py-16">
            
            <!-- Request Form -->
            <div x-show="currentStep === 'form'" class="max-w-3xl mx-auto">
                <div class="bg-white rounded-3xl shadow-2xl p-10 border border-gray-100">
                    <div class="text-center mb-10">
                        <h2 class="text-4xl font-bold text-gray-800 mb-4">
                            üöÄ Generate Your UGC Content
                        </h2>
                        <p class="text-lg text-gray-600">
                            Tell us about your brand and we'll create authentic UGC content that converts
                        </p>
                    </div>
                    
                    <form @submit.prevent="generateContent()">
                        <!-- Brand/Product Info -->
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="space-y-6">
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3">
                                        <i class="fas fa-tag mr-2 text-purple-500"></i>Brand/Product Name *
                                    </label>
                                    <input x-model="formData.brandName" type="text" 
                                           class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200"
                                           placeholder="e.g., Nike Air Max, Skincare Pro..." required>
                                </div>

                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3">
                                        <i class="fas fa-industry mr-2 text-blue-500"></i>Industry/Category *
                                    </label>
                                    <select x-model="formData.industry" 
                                            class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200" required>
                                        <option value="">Select Industry</option>
                                        <option value="fashion">üëó Fashion & Apparel</option>
                                        <option value="beauty">üíÑ Beauty & Skincare</option>
                                        <option value="fitness">üí™ Fitness & Health</option>
                                        <option value="food">üçî Food & Beverage</option>
                                        <option value="tech">üì± Technology & Gadgets</option>
                                        <option value="home">üè† Home & Lifestyle</option>
                                        <option value="travel">‚úàÔ∏è Travel & Tourism</option>
                                        <option value="automotive">üöó Automotive</option>
                                        <option value="finance">üí∞ Finance & Services</option>
                                        <option value="education">üìö Education & Courses</option>
                                    </select>
                                </div>

                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3">
                                        <i class="fas fa-users mr-2 text-green-500"></i>Target Audience *
                                    </label>
                                    <input x-model="formData.targetAudience" type="text"
                                           class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200"
                                           placeholder="e.g., Young professionals 25-35, Fitness enthusiasts..." required>
                                </div>

                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3">
                                        <i class="fas fa-bullseye mr-2 text-red-500"></i>Campaign Goal *
                                    </label>
                                    <select x-model="formData.campaignGoal"
                                            class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200" required>
                                        <option value="">Select Goal</option>
                                        <option value="brand-awareness">üéØ Brand Awareness</option>
                                        <option value="lead-generation">üìà Lead Generation</option>
                                        <option value="sales-conversion">üí∞ Sales Conversion</option>
                                        <option value="app-downloads">üì± App Downloads</option>
                                        <option value="engagement">‚ù§Ô∏è Social Engagement</option>
                                        <option value="event-promotion">üéâ Event Promotion</option>
                                    </select>
                                </div>
                            </div>

                            <div class="space-y-6">
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3">
                                        <i class="fas fa-mobile-alt mr-2 text-indigo-500"></i>Content Platforms
                                    </label>
                                    <div class="grid grid-cols-2 gap-3">
                                        <label class="flex items-center space-x-2 p-3 rounded-xl border-2 border-gray-200 hover:border-purple-300 cursor-pointer transition duration-200">
                                            <input type="checkbox" x-model="formData.platforms" value="instagram"
                                                   class="w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
                                            <span class="font-medium">üì∏ Instagram Feed</span>
                                        </label>
                                        <label class="flex items-center space-x-2 p-3 rounded-xl border-2 border-gray-200 hover:border-purple-300 cursor-pointer transition duration-200">
                                            <input type="checkbox" x-model="formData.platforms" value="instagram-stories"
                                                   class="w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
                                            <span class="font-medium">üì± Instagram Stories</span>
                                        </label>
                                        <label class="flex items-center space-x-2 p-3 rounded-xl border-2 border-gray-200 hover:border-purple-300 cursor-pointer transition duration-200">
                                            <input type="checkbox" x-model="formData.platforms" value="facebook"
                                                   class="w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
                                            <span class="font-medium">üë• Facebook Feed</span>
                                        </label>
                                        <label class="flex items-center space-x-2 p-3 rounded-xl border-2 border-gray-200 hover:border-purple-300 cursor-pointer transition duration-200">
                                            <input type="checkbox" x-model="formData.platforms" value="tiktok"
                                                   class="w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
                                            <span class="font-medium">üéµ TikTok</span>
                                        </label>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3">
                                        <i class="fas fa-palette mr-2 text-pink-500"></i>Creative Style Preferences
                                    </label>
                                    <textarea x-model="formData.stylePreferences"
                                              class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent h-32 transition duration-200"
                                              placeholder="Describe your preferred visual style, colors, mood, aesthetic... (optional)"></textarea>
                                </div>

                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3">
                                        <i class="fas fa-search mr-2 text-orange-500"></i>Competitor Analysis
                                    </label>
                                    <input x-model="formData.competitors" type="text"
                                           class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200"
                                           placeholder="e.g., Nike, Adidas, Under Armour (comma-separated)">
                                    <p class="text-sm text-gray-500 mt-2">üí° We'll analyze their successful ads for insights</p>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="mt-12 text-center">
                            <button type="submit" :disabled="isLoading"
                                    class="inline-flex items-center px-12 py-4 gradient-bg text-white font-bold text-lg rounded-full hover:opacity-90 hover:scale-105 transition duration-300 disabled:opacity-50 disabled:scale-100 shadow-2xl">
                                <span x-show="!isLoading" class="flex items-center">
                                    üöÄ Generate My UGC Content
                                </span>
                                <span x-show="isLoading" class="flex items-center loading-animation">
                                    <i class="fas fa-spinner fa-spin mr-2"></i>
                                    Generating Amazing Content...
                                </span>
                            </button>
                            <p class="text-sm text-gray-500 mt-4">
                                ‚ö° Usually takes 2-3 minutes ‚Ä¢ üîí Your data is secure
                            </p>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Loading State -->
            <div x-show="currentStep === 'loading'" class="max-w-4xl mx-auto text-center">
                <div class="bg-white rounded-3xl shadow-2xl p-12 border border-gray-100">
                    <div class="loading-animation mb-8">
                        <div class="inline-block gradient-bg rounded-full p-6">
                            <i class="fas fa-cog fa-spin text-6xl text-white"></i>
                        </div>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-800 mb-8">AI Content Generation In Progress</h3>
                    <div class="max-w-lg mx-auto">
                        <div class="space-y-4">
                            <div class="flex items-center space-x-4 p-4 rounded-xl bg-green-50 border border-green-200">
                                <i class="fas fa-check-circle text-green-500 text-xl"></i>
                                <span class="font-medium">üîç Analyzing competitor Facebook ads...</span>
                            </div>
                            <div class="flex items-center space-x-4 p-4 rounded-xl bg-blue-50 border border-blue-200">
                                <i class="fas fa-spinner fa-spin text-blue-500 text-xl"></i>
                                <span class="font-medium">üß† Processing with Gemini AI...</span>
                            </div>
                            <div class="flex items-center space-x-4 p-4 rounded-xl bg-purple-50 border border-purple-200">
                                <i class="fas fa-clock text-purple-400 text-xl"></i>
                                <span class="font-medium">üé® Generating authentic UGC images...</span>
                            </div>
                            <div class="flex items-center space-x-4 p-4 rounded-xl bg-orange-50 border border-orange-200">
                                <i class="fas fa-clock text-orange-400 text-xl"></i>
                                <span class="font-medium">‚úçÔ∏è Creating platform-optimized copy...</span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="gradient-bg h-2 rounded-full loading-animation" style="width: 75%"></div>
                        </div>
                        <p class="text-gray-600 mt-4 text-lg">Creating your custom content package...</p>
                    </div>
                </div>
            </div>

            <!-- Results Display -->
            <div x-show="currentStep === 'results'" class="space-y-10">
                <!-- Success Header -->
                <div class="text-center result-card">
                    <div class="inline-block gradient-bg rounded-full p-8 mb-6">
                        <h2 class="text-4xl font-bold text-white mb-2">üéâ Success!</h2>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-800 mb-4">
                        Your UGC Content Package is Ready!
                    </h3>
                    <p class="text-xl text-gray-600">
                        Generated <span x-text="results.totalAssets || 6" class="font-bold text-purple-600"></span> creative assets optimized for your platforms
                    </p>
                </div>

                <!-- Results Grid -->
                <div class="grid md:grid-cols-2 gap-10">
                    <!-- Visual Assets -->
                    <div class="result-card">
                        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <i class="fas fa-images text-purple-500 mr-3 text-3xl"></i>Visual Assets
                            </h3>
                            <div class="space-y-6">
                                <div class="border-2 border-gray-100 rounded-xl p-6 bg-gradient-to-br from-purple-50 to-pink-50">
                                    <h4 class="font-bold text-gray-700 text-lg mb-2">üì± Square Format (1:1)</h4>
                                    <p class="text-sm text-gray-600 mb-3">Perfect for Instagram Feed & Facebook Posts</p>
                                    <div class="bg-white rounded-lg p-4 shadow-inner">
                                        <p class="text-sm font-medium" x-text="results.squareImage?.description || 'Authentic UGC image with natural lighting and mobile photography aesthetic that builds trust and drives engagement'"></p>
                                    </div>
                                </div>
                                <div class="border-2 border-gray-100 rounded-xl p-6 bg-gradient-to-br from-blue-50 to-purple-50">
                                    <h4 class="font-bold text-gray-700 text-lg mb-2">üì∫ Portrait Format (9:16)</h4>
                                    <p class="text-sm text-gray-600 mb-3">Perfect for Stories, Reels & TikTok</p>
                                    <div class="bg-white rounded-lg p-4 shadow-inner">
                                        <p class="text-sm font-medium" x-text="results.portraitImage?.description || 'Vertical storytelling format with authentic lifestyle integration optimized for mobile viewing'"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Copy Variations -->
                    <div class="result-card">
                        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <i class="fas fa-edit text-green-500 mr-3 text-3xl"></i>Copy Variations
                            </h3>
                            <div class="space-y-6">
                                <div class="border-2 border-gray-100 rounded-xl p-6 bg-gradient-to-br from-green-50 to-blue-50">
                                    <h4 class="font-bold text-gray-700 text-lg mb-2">üéØ Hook-Driven Version</h4>
                                    <div class="bg-white rounded-lg p-4 shadow-inner">
                                        <p class="text-sm italic font-medium" x-text="results.copyVariations?.hookDriven || 'Scroll-stopping opener designed for maximum engagement with your specific target audience'"></p>
                                    </div>
                                </div>
                                <div class="border-2 border-gray-100 rounded-xl p-6 bg-gradient-to-br from-orange-50 to-red-50">
                                    <h4 class="font-bold text-gray-700 text-lg mb-2">üî• Problem/Solution Version</h4>
                                    <div class="bg-white rounded-lg p-4 shadow-inner">
                                        <p class="text-sm italic font-medium" x-text="results.copyVariations?.problemSolution || 'Addresses key pain points while positioning your brand as the perfect solution with compelling messaging'"></p>
                                    </div>
                                </div>
                                <div class="border-2 border-gray-100 rounded-xl p-6 bg-gradient-to-br from-purple-50 to-pink-50">
                                    <h4 class="font-bold text-gray-700 text-lg mb-2">‚≠ê Social Proof Version</h4>
                                    <div class="bg-white rounded-lg p-4 shadow-inner">
                                        <p class="text-sm italic font-medium" x-text="results.copyVariations?.socialProof || 'Leverages testimonials and social validation to build trust and drive action from your community'"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics & Insights -->
                <div class="result-card">
                    <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-chart-line text-blue-500 mr-3 text-3xl"></i>AI Quality Metrics & Strategic Insights
                        </h3>
                        <div class="grid md:grid-cols-4 gap-6 mb-8">
                            <div class="text-center p-6 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-100">
                                <div class="text-4xl font-bold text-green-500 mb-2" x-text="results.qualityScores?.authenticity || '95'">95</div>
                                <div class="text-sm font-semibold text-gray-600">Authenticity Score</div>
                                <div class="text-xs text-green-600 mt-1">Excellent</div>
                            </div>
                            <div class="text-center p-6 rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-100">
                                <div class="text-4xl font-bold text-blue-500 mb-2" x-text="results.qualityScores?.creativity || '88'">88</div>
                                <div class="text-sm font-semibold text-gray-600">Creativity Score</div>
                                <div class="text-xs text-blue-600 mt-1">High</div>
                            </div>
                            <div class="text-center p-6 rounded-xl bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-100">
                                <div class="text-4xl font-bold text-purple-500 mb-2" x-text="results.qualityScores?.platformFit || '92'">92</div>
                                <div class="text-sm font-semibold text-gray-600">Platform Fit</div>
                                <div class="text-xs text-purple-600 mt-1">Excellent</div>
                            </div>
                            <div class="text-center p-6 rounded-xl bg-gradient-to-br from-orange-50 to-red-50 border-2 border-orange-100">
                                <div class="text-4xl font-bold text-orange-500 mb-2" x-text="results.qualityScores?.engagement || '90'">90</div>
                                <div class="text-sm font-semibold text-gray-600">Engagement Potential</div>
                                <div class="text-xs text-orange-600 mt-1">High</div>
                            </div>
                        </div>
                        <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-100">
                            <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>Strategic Insights
                            </h4>
                            <p class="text-gray-600 leading-relaxed" x-text="results.insights || 'Content strategically optimized based on successful competitor analysis for maximum audience resonance and authentic UGC aesthetic that builds trust and drives engagement across all target platforms.'"></p>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="result-card text-center space-y-6">
                    <div class="flex flex-wrap justify-center gap-4">
                        <button @click="downloadPackage()" 
                                class="inline-flex items-center px-8 py-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-full transition duration-300 transform hover:scale-105 shadow-lg">
                            <i class="fas fa-download mr-2"></i>Download Creative Package
                        </button>
                        <button @click="generateAnother()"
                                class="inline-flex items-center px-8 py-4 gradient-bg text-white font-bold rounded-full hover:opacity-90 transition duration-300 transform hover:scale-105 shadow-lg">
                            <i class="fas fa-plus mr-2"></i>Generate Another
                        </button>
                        <button @click="shareResults()"
                                class="inline-flex items-center px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-full transition duration-300 transform hover:scale-105 shadow-lg">
                            <i class="fas fa-share mr-2"></i>Share Results
                        </button>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-4 inline-block">
                        <p class="text-sm text-gray-600 mb-1">
                            <strong>Creative Package ID:</strong> <span x-text="results.packageId || 'ugc_' + Date.now()" class="font-mono"></span>
                        </p>
                        <p class="text-xs text-gray-500">
                            üéØ Estimated Manual Creation Value: $500-2000 ‚Ä¢ ‚ö° Generated in under 3 minutes
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-16 mt-20">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold mb-6">üöÄ Powered by Next-Gen AI Technology</h3>
                    <div class="flex flex-wrap justify-center gap-8 mb-8">
                        <div class="text-center p-6 bg-gray-800 rounded-xl">
                            <i class="fas fa-database text-4xl text-blue-400 mb-3"></i>
                            <div class="font-bold">Bright Data MCP</div>
                            <div class="text-sm text-gray-400">Real-time web intelligence</div>
                        </div>
                        <div class="text-center p-6 bg-gray-800 rounded-xl">
                            <i class="fas fa-brain text-4xl text-purple-400 mb-3"></i>
                            <div class="font-bold">Gemini 2.5 Flash</div>
                            <div class="text-sm text-gray-400">Advanced AI analysis</div>
                        </div>
                        <div class="text-center p-6 bg-gray-800 rounded-xl">
                            <i class="fas fa-paint-brush text-4xl text-green-400 mb-3"></i>
                            <div class="font-bold">Imagen 3.0</div>
                            <div class="text-sm text-gray-400">Authentic image generation</div>
                        </div>
                    </div>
                </div>
                <div class="text-center border-t border-gray-700 pt-8">
                    <p class="text-gray-400 mb-4">¬© 2025 UGC Content Generator ‚Ä¢ Built with n8n AI Orchestration</p>
                    <div class="flex justify-center space-x-6 text-sm">
                        <a href="#" class="text-gray-400 hover:text-white transition duration-200">Privacy Policy</a>
                        <a href="#" class="text-gray-400 hover:text-white transition duration-200">Terms of Service</a>
                        <a href="#" class="text-gray-400 hover:text-white transition duration-200">Contact Support</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Configuration - Update this with your n8n webhook URL
        const API_CONFIG = {
            endpoint: window.location.hostname === 'localhost' 
                ? 'http://localhost:5678/webhook/generate-ugc-content'  // Local development
                : 'https://your-n8n-instance.com/webhook/generate-ugc-content', // Production
            timeout: 180000 // 3 minutes
        };

        function ugcGenerator() {
            return {
                currentStep: 'form', // 'form', 'loading', 'results'
                isLoading: false,
                formData: {
                    brandName: '',
                    industry: '',
                    targetAudience: '',
                    campaignGoal: '',
                    platforms: [],
                    stylePreferences: '',
                    competitors: ''
                },
                results: {
                    totalAssets: 6,
                    packageId: '',
                    squareImage: { description: '' },
                    portraitImage: { description: '' },
                    copyVariations: {
                        hookDriven: '',
                        problemSolution: '',
                        socialProof: ''
                    },
                    qualityScores: {
                        authenticity: 95,
                        creativity: 88,
                        platformFit: 92,
                        engagement: 90
                    },
                    insights: ''
                },

                async generateContent() {
                    // Analytics tracking
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'ugc_generation_started', {
                            'brand': this.formData.brandName,
                            'industry': this.formData.industry,
                            'campaign_goal': this.formData.campaignGoal
                        });
                    }

                    this.isLoading = true;
                    this.currentStep = 'loading';

                    try {
                        // Build comprehensive prompt
                        const prompt = this.buildAIPrompt();
                        
                        // Call n8n webhook
                        const controller = new AbortController();
                        const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout);
                        
                        const response = await fetch(API_CONFIG.endpoint, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                ...this.formData,
                                aiPrompt: prompt,
                                timestamp: new Date().toISOString(),
                                userAgent: navigator.userAgent
                            }),
                            signal: controller.signal
                        });

                        clearTimeout(timeoutId);

                        if (response.ok) {
                            const result = await response.json();
                            this.processResults(result);
                            
                            // Analytics tracking
                            if (typeof gtag !== 'undefined') {
                                gtag('event', 'ugc_generation_completed', {
                                    'success': true,
                                    'package_id': result.processingId
                                });
                            }
                        } else {
                            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                        }
                        
                        this.currentStep = 'results';
                    } catch (error) {
                        console.error('Generation error:', error);
                        
                        // Analytics tracking
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'ugc_generation_failed', {
                                'error': error.message
                            });
                        }
                        
                        let errorMessage = 'Unable to generate content. Please try again.';
                        if (error.name === 'AbortError') {
                            errorMessage = 'Request timed out. The AI is working hard - please try again.';
                        } else if (error.message.includes('Failed to fetch')) {
                            errorMessage = 'Connection error. Please check your internet connection and try again.';
                        }
                        
                        alert(errorMessage);
                        this.currentStep = 'form';
                    } finally {
                        this.isLoading = false;
                    }
                },

                buildAIPrompt() {
                    return `Generate authentic UGC content for:
                    Brand: ${this.formData.brandName}
                    Industry: ${this.formData.industry}
                    Target Audience: ${this.formData.targetAudience}
                    Goal: ${this.formData.campaignGoal}
                    Platforms: ${this.formData.platforms.join(', ') || 'All major platforms'}
                    Style: ${this.formData.stylePreferences || 'Authentic, user-generated aesthetic'}
                    Competitors to analyze: ${this.formData.competitors || 'Industry leaders'}
                    
                    Focus on creating authentic, user-generated content aesthetic with high engagement potential and genuine social proof elements.`;
                },

                processResults(apiResult) {
                    if (apiResult.success) {
                        // Process successful API response
                        this.results.packageId = apiResult.processingId || `ugc_${Date.now()}`;
                        this.results.insights = apiResult.qualityMetrics?.insights || 'Content optimized for maximum authenticity and engagement.';
                        
                        // Update visual assets
                        if (apiResult.creativeAssets) {
                            this.results.squareImage.description = apiResult.creativeAssets.squareImage?.description || 'Authentic UGC square image generated';
                            this.results.portraitImage.description = apiResult.creativeAssets.portraitImage?.description || 'Vertical UGC image optimized for stories';
                        }
                        
                        // Update copy variations
                        if (apiResult.copyVariations) {
                            this.results.copyVariations.hookDriven = apiResult.copyVariations.hookDriven || 'Hook-driven copy variation';
                            this.results.copyVariations.problemSolution = apiResult.copyVariations.problemSolution || 'Problem/solution copy variation';
                            this.results.copyVariations.socialProof = apiResult.copyVariations.socialProof || 'Social proof copy variation';
                        }
                        
                        // Update quality scores
                        if (apiResult.qualityMetrics?.scores) {
                            this.results.qualityScores = { ...this.results.qualityScores, ...apiResult.qualityMetrics.scores };
                        }
                        
                        // Update total assets
                        this.results.totalAssets = apiResult.deliverables?.totalAssets || 6;
                    } else {
                        // Handle API error response
                        throw new Error(apiResult.error || 'Unknown API error');
                    }
                },

                async downloadPackage() {
                    const packageData = {
                        ...this.results,
                        originalRequest: this.formData,
                        downloadedAt: new Date().toISOString(),
                        userAgent: navigator.userAgent
                    };
                    
                    const blob = new Blob([JSON.stringify(packageData, null, 2)], {
                        type: 'application/json'
                    });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `ugc-package-${this.results.packageId}.json`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    // Analytics tracking
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'package_downloaded', {
                            'package_id': this.results.packageId
                        });
                    }
                },

                generateAnother() {
                    this.currentStep = 'form';
                    // Reset form but keep some data for convenience
                    this.formData = {
                        ...this.formData,
                        brandName: '',
                        stylePreferences: '',
                        competitors: ''
                    };
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                },

                async shareResults() {
                    const shareData = {
                        title: 'UGC Content Generation Results',
                        text: `Generated authentic UGC content for ${this.formData.brandName} with 95%+ authenticity score!`,
                        url: window.location.href
                    };
                    
                    if (navigator.share) {
                        try {
                            await navigator.share(shareData);
                            
                            // Analytics tracking
                            if (typeof gtag !== 'undefined') {
                                gtag('event', 'results_shared', {
                                    'method': 'native_share',
                                    'package_id': this.results.packageId
                                });
                            }
                        } catch (err) {
                            if (err.name !== 'AbortError') {
                                console.log('Error sharing:', err);
                            }
                        }
                    } else {
                        // Fallback to copy link
                        try {
                            await navigator.clipboard.writeText(window.location.href);
                            alert('Link copied to clipboard! Share it with your team.');
                            
                            // Analytics tracking
                            if (typeof gtag !== 'undefined') {
                                gtag('event', 'results_shared', {
                                    'method': 'clipboard',
                                    'package_id': this.results.packageId
                                });
                            }
                        } catch (err) {
                            alert('Unable to copy link. Please copy the URL manually.');
                        }
                    }
                }
            }
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé® UGC Generator initialized successfully!');
        });
    </script>
</body>
</html>